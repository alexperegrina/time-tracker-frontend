<div class="task-list" *ngIf="!loading && !errorMessage">
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Total Time (s)</th>
                <th>Tracking Intervals</th>
                <th>Time Tracker</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let task of tasks; let i = index"
                [ngClass]="{ 'even-row': i % 2 === 0, 'odd-row': i % 2 !== 0 }">
                <td>{{ task.id }}</td>
                <td>{{ task.name }}</td>
                <td>{{ task.time.total }}</td>
                <td>
                    <ul>
                        <li *ngFor="let interval of task.tracking">
                            Start: {{ interval.start }} - End: {{ interval.end || 'In Progress' }}
                        </li>
                    </ul>
                </td>
                <td>
                    <span>{{ task.elapsedTime }} s</span>
                </td>
                <td>
                    <div class="task-actions">
                        <button *ngIf="task.status === 'In Progress'" class="close-task-button"
                            (click)="closeTask(task.name)">
                            Close
                        </button>
                        <button *ngIf="task.status === 'Completed'" class="create-task-button"
                            (click)="createTask(task.name)">
                            Start
                        </button>
                        <button class="detail-button" routerLink="/task/detail/{{ task.id }}">
                            Detail
                        </button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>